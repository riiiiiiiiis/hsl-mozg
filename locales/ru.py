"""
–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
"""

# –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
FREE_LESSON = {
    "EMAIL_REQUEST": "üìß –î–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —É—Ä–æ–∫ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email –∞–¥—Ä–µ—Å:",
    "EMAIL_INVALID": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: example@mail.com)",
    "REGISTRATION_SUCCESS": "‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—ã –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —É—Ä–æ–∫.\n\nüìÖ –î–∞—Ç–∞: {date}\nüìß Email: {email}\n\nüîî –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á—É –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—é–¥–∞ –∑–∞ 15 –º–∏–Ω—É—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Ä–æ–∫–∞.",
    "ALREADY_REGISTERED": "‚ÑπÔ∏è –í—ã —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —É—Ä–æ–∫.\n\nüìÖ –î–∞—Ç–∞: {date}\nüîî –°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º.",
    "REMINDER": "üéØ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —É—Ä–æ–∫ —É–∂–µ —Å–∫–æ—Ä–æ!\n\nüìÖ {date}\nüîó –°—Å—ã–ª–∫–∞: {link}\n\n–£–≤–∏–¥–∏–º—Å—è –Ω–∞ —É—Ä–æ–∫–µ! üëã"
}

# –°–æ–æ–±—â–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
REFERRAL = {
    "APPLIED": "üéâ –ü—Ä–∏–º–µ–Ω–µ–Ω –∫—É–ø–æ–Ω –Ω–∞ {discount}% —Å–∫–∏–¥–∫—É!",
    "EXPIRED": "‚ùå –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —ç—Ç–æ—Ç –∫—É–ø–æ–Ω –±–æ–ª—å—à–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω.",
    "ALREADY_USED": "‚ùå –í—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —ç—Ç–æ—Ç –∫—É–ø–æ–Ω —Ä–∞–Ω–µ–µ."
}

# –û–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
BOOKING = {
    "DURATION_NOTICE": "–í–∞—à–µ –º–µ—Å—Ç–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 1 —á–∞—Å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –æ–ø–ª–∞—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ —á–µ–∫–∞ –≤ —ç—Ç–æ—Ç —á–∞—Ç –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.",
    "CALENDAR_LINK": "https://calendar.app.google/gYhZNcreyWrAuEgT9"
}

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å—Ç–∞—Ä—Ç
START = {
    "WELCOME_WITH_COURSES": (
        "–ü—Ä–∏–≤–µ—Ç! –ó–¥–µ—Å—å —É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–π—Ç—ã, –±–æ—Ç–æ–≤ –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏.\n\n"
        "–•–æ—Ç–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –≤–æ—Ä–∫—à–æ–ø—ã (–∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ).\n"
        "–ì–æ—Ç–æ–≤—ã –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ –∫—É—Ä—Å: ¬´–û—Å–Ω–æ–≤—ã¬ª (—Å—Ç–∞—Ä—Ç 1 —Å–µ–Ω—Ç.) –∏–ª–∏ ¬´PRO¬ª (—Å—Ç–∞—Ä—Ç 15 —Å–µ–Ω—Ç.)."
    ),
    "WELCOME_NO_COURSES": (
        "–ü—Ä–∏–≤–µ—Ç! –ó–¥–µ—Å—å —É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–π—Ç—ã, –±–æ—Ç–æ–≤ –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏.\n\n"
        "–•–æ—Ç–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –≤–æ—Ä–∫—à–æ–ø—ã (–∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ)."
    )
}

# –°–±—Ä–æ—Å —Å–µ—Å—Å–∏–∏
RESET = {
    "SESSION_CLEARED": "üîÑ –í–∞—à–∞ —Å–µ—Å—Å–∏—è —Å–±—Ä–æ—à–µ–Ω–∞. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –∏—Å–ø–æ–ª—å–∑—É—è /start."
}

# –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (MarkdownV2)
REFERRAL_ADMIN = {
    "NO_RIGHTS": "‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.",
    "USAGE_HINT": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /create_referral <–ø—Ä–æ—Ü–µ–Ω—Ç> <–∞–∫—Ç–∏–≤–∞—Ü–∏–∏>",
    "INVALID_FORMAT": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ü—Ä–∏–º–µ—Ä: /create_referral 20 10",
    "CREATED_OK": (
        r"‚úÖ –ö—É–ø–æ–Ω —Å–æ–∑–¥–∞–Ω\!\n"
        r"–ö–æ–¥: `{code}`\n"
        r"–°–∫–∏–¥–∫–∞: {discount}%\n"
        r"–ê–∫—Ç–∏–≤–∞—Ü–∏–π: {activations}\n\n"
        r"–°—Å—ã–ª–∫–∞: `{link}`"
    ),
    "ERROR_CREATING": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É–ø–æ–Ω–∞."
}

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫—É–ø–æ–Ω–æ–≤ (MarkdownV2)
REFERRAL_STATS = {
    "NO_RIGHTS": "‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.",
    "EMPTY": "üìä –ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫—É–ø–æ–Ω–æ–≤.",
    "TEMPLATE": "üìä *–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫—É–ø–æ–Ω–æ–≤:*\n\n{stats_block}"
}

# –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (MarkdownV2)
STATS = {
    "TEMPLATE": (
        "üìä *–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞*\n\n"
        "üë§ *–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:*\n"
        "  - –°–µ–≥–æ–¥–Ω—è: *{users_today}*\n"
        "  - –ó–∞ 7 –¥–Ω–µ–π: *{users_week}*\n\n"
        "üí∞ *–ü—Ä–æ–¥–∞–∂–∏:*\n"
        "  - –ù–æ–≤—ã—Ö –±—Ä–æ–Ω–µ–π —Å–µ–≥–æ–¥–Ω—è: *{bookings_today}*\n"
        "  - –û–ø–ª–∞—Ç –∑–∞ 7 –¥–Ω–µ–π: *{confirmed_week}*"
    )
}

# –ü–æ—Ç–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è / –æ–±—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–ª–æ—É
BOOKING_FLOW = {
    "COURSE_UNAVAILABLE": "–ò–∑–≤–∏–Ω–∏—Ç–µ, —ç—Ç–æ—Ç –∫—É—Ä—Å –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.",
    "SESSION_EXPIRED": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Å–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ —Å /start.",
    "BOOKING_FAILED": "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
    "BOOKING_CANCELLED": "–í–∞—à–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –Ω–∞–∂–∞–≤ /start.",
    "CANCELLATION_FAILED": "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω–æ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.",
    # HTML —à–∞–±–ª–æ–Ω –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –≤—ã–±–æ—Ä–∞ –∫—É—Ä—Å–∞
    "SELECT_COURSE_DETAILS": (
        "<b>–ö—É—Ä—Å:</b> {course_name}\n"
        "<b>–ò–º—è:</b> {first_name}\n"
        "<b>–°—Ç–∞—Ä—Ç:</b> {start_date}\n"
        "<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b> {price_info}\n\n"
        "{description}"
    ),
    # MarkdownV2 —à–∞–±–ª–æ–Ω —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏
    "PAYMENT_DETAILS": (
        r"üìù –í–∞—à–µ –º–µ—Å—Ç–æ –Ω–∞ –∫—É—Ä—Å '*{course_name}*' –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ \(–ó–∞—è–≤–∫–∞ ‚Ññ*{booking_id}*\)\.\n\n"
        r"‚è≥ _{duration_notice}_\n\n"
        r"üí≥ *–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã:*\n\n"
        r"üá∑üá∫ *–¢\-–ë–∞–Ω–∫ \({price_rub} RUB\):*\n"
        r"  –ö–∞—Ä—Ç–∞: `{tbank_card}`\n"
        r"  –ü–æ–ª—É—á–∞—Ç–µ–ª—å: {tbank_holder}\n\n"
        r"üá∞üáø *Kaspi \({price_kzt} KZT\):*\n"
        r"  –ö–∞—Ä—Ç–∞: `{kaspi_card}`\n\n"
        r"üá¶üá∑ *–ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞ \({price_ars} ARS\):*\n"
        r"  Alias: `{ars_alias}`\n\n"
        r"üí∏ *USDT TRC\-20 \({price_usdt} USDT\):*\n"
        r"  –ê–¥—Ä–µ—Å: `{usdt_address}`\n\n"
        r"üßæ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ —á–µ–∫–∞ –≤ —ç—Ç–æ—Ç —á–∞—Ç\."
    )
}

# –ê–¥–º–∏–Ω—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
ADMIN = {
    "APPROVED_BADGE": "‚úÖ –û–î–û–ë–†–ï–ù–û - {timestamp}",
    "APPROVAL_FAILED": "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞—è–≤–∫—É ‚Ññ{booking_id}. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞.",
    # –®–∞–±–ª–æ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è
    "CONFIRMATION_MESSAGE": (
        "–ü—Ä–∏–≤–µ—Ç, {first_name}!\n\n"
        "–¢—ã –≤ {stream_title} ({dates_text}).\n\n"
        "–ß—Ç–æ –¥–∞–ª—å—à–µ:\n"
        "1. –ü–µ—Ä–≤—ã–π –ª–∞–π–≤: {first_live_calendar_link}\n"
        "2. –í—Å—Ç—É–ø–∞–π –≤ –≥—Ä—É–ø–ø—É –ø–æ—Ç–æ–∫–∞: {group_invite_link}\n\n"
        "–ü–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–∏—à–∏ {support_contact}"
    )
}

def get_text(category: str, key: str, **kwargs) -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–ª—é—á—É
    
    Args:
        category: –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–µ–∫—Å—Ç–æ–≤ (FREE_LESSON, REFERRAL, BOOKING)
        key: –ö–ª—é—á –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        **kwargs: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    
    Returns:
        –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    """
    texts = {
        "FREE_LESSON": FREE_LESSON,
        "REFERRAL": REFERRAL,
        "BOOKING": BOOKING,
        "START": START,
        "RESET": RESET,
        "REFERRAL_ADMIN": REFERRAL_ADMIN,
        "REFERRAL_STATS": REFERRAL_STATS,
        "STATS": STATS,
        "BOOKING_FLOW": BOOKING_FLOW,
        "ADMIN": ADMIN
    }
    
    category_texts = texts.get(category)
    if category_texts is None:
        try:
            import logging
            logging.getLogger(__name__).error(f"Missing text category: {category}")
        except Exception:
            pass
        return f"[TEXT_NOT_FOUND: {category}.{key}]"
    text = category_texts.get(key)
    if text is None:
        try:
            import logging
            logging.getLogger(__name__).error(f"Missing text key: {category}.{key}")
        except Exception:
            pass
        return f"[TEXT_NOT_FOUND: {category}.{key}]"
    
    if kwargs:
        return text.format(**kwargs)
    return text